<atlassian-plugin key="${project.groupId}.${project.artifactId}" name="${project.name}" plugins-version="2">
    <plugin-info>
        <description>${project.description}</description>
        <version>${project.version}</version>
        <vendor name="${project.organization.name}" url="${project.organization.url}" />
    </plugin-info>

    <module-type key="described-module-type" class="com.atlassian.plugin.schema.impl.DescribedModuleTypeModuleDescriptor" />

    <described-module-type key="webhook" name="Web Hook" class="com.atlassian.webhooks.plugin.module.WebHookModuleDescriptor"
                           schema-transformer-class="com.atlassian.webhooks.plugin.module.WebHookSchemaFactory">
        <description>Registration for a web hook callback from an internal event</description>
    </described-module-type>

    <!-- Refapp -->
    <component key="refappThreadLocalContextManager" class="com.atlassian.webhooks.plugin.refapp.RefappThreadLocalContextManager"
               interface="com.atlassian.httpclient.spi.ThreadLocalContextManager" public="true" application="refapp"/>
    <component-import key="refappAuthenticationContext" interface="com.atlassian.seraph.auth.AuthenticationContext" application="refapp"/>

    <!-- Confluence -->
    <component key="confluenceThreadContextManager" class="com.atlassian.webhooks.plugin.confluence.ConfluenceThreadLocalContextManager"
               interface="com.atlassian.httpclient.spi.ThreadLocalContextManager" public="true" application="confluence"/>

    <!-- JIRA -->
    <component key="jiraThreadContextManager" class="com.atlassian.webhooks.plugin.jira.JiraThreadLocalContextManager"
               interface="com.atlassian.httpclient.spi.ThreadLocalContextManager" public="true" application="jira"/>

    <component-import key="jiraAuthenticationContext" interface="com.atlassian.jira.security.JiraAuthenticationContext" application="jira" />
    <component-import key="jiraVelocityRequestContextFactory" interface="com.atlassian.jira.util.velocity.VelocityRequestContextFactory" application="jira" />
    <component-import key="jiraTenantReference" interface="com.atlassian.multitenant.TenantReference" application="jira" />
</atlassian-plugin>